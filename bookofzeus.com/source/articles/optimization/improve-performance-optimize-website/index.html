
<style>
.smile {
	background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAATUlEQVQYlZ3QQQoAIAhE0X/BTtntvEDLaSOlpJuCIYKHpvB5BqCQ0SKteVLhi4ybAh8EpDtgh9bngYAkB8rV8x8tTRzfxUBvy35F1R43zcB6rPlo4VYAAAAASUVORK5CYII=) no-repeat;
	height: 16px;
	width: 16px;
}
</style>
<p><q>... optimize front-end performance first, that's where 80% or more of the end-user response time is spent</q>. This is my favorite quote from Professor Steve Souders and he I will agree with him. So is there something we can do to improve the user experience and optimize the front-end to render pages even faster? Obviously, yes and here's some simple tips that will help you accomplish these issues and make your customers/visitors happy.</p>

<h4>Minimize HTTP Requests</h4>

<p>Minimizing the number of HTTP requests in your website is the first step of optimization. Why? Simply because most of the traffic you get might be new traffic, or this traffic does not know anything about your site. Just do the test and look at your Google Analytics and see for your self. So help your traffic, specially for the first time user or for those who does not save any cache, and minimize your HTTP request.</p>

<p>The idea here is simple: reduce the number of requests means reducing the number of files the website loads.<p>

<p>Most of these request comes from the CSS, images, JavaScript files. For example, having multiple CSS files like this:</p>

<pre>
&lt;link rel="stylesheet" type="text/css" href="/css/style.css"&gt;
&lt;link rel="stylesheet" type="text/css" href="/css/main.css"&gt;
&lt;link rel="stylesheet" type="text/css" href="/css/colors.css"&gt;
</pre>

<p>-or-</p>

<pre>
/* in the /css/main.css */
@import url("/css/style.css");
@import url("/css/colors.css");
</pre>

<p>Will create three (3) HTTP requests, by combining this into a single stylesheet file will only create one (1) HTTP request. This also applies to JavaScript files and images (CSS Sprites).</p>

<h4>Minify/Optimize Code</h4>
<p>A great technique to improve your loading time and, at the same time, save band-witch. This removes unnecessary characters, like spaces, new lines or tabs. This is a very common practice for JavaScript and CSS files. For examples, let's get this JavaScript code:</p>

<pre>
function urlencode(str) {
  str = escape(str);
  str = str.replace(/ /g, '%20');
  str = str.replace(/\+/g, '%2B');
  str = str.replace(/@/, '%40');
  return str;
}
</pre>
<p>Can be converted to: </p>

<pre>
function urlencode(str){str=escape(str);str=str.replace(/ /g,'%20');str=str.replace(/\+/g,'%2B');str=str.replace(/@/,'%40');return str;}
</pre>

<p>This applies also to CSS:</p>

<pre>
div.block {
  background: #fff;
  -webkit-border-radius: 10px;
  -moz-border-radius: 10px;
  border-radius: 10px;
  border: 20px solid #ddd;
  -webkit-box-shadow: 0px 0px 20px #000;
  -moz-box-shadow: 0px 0px 20px #000;
  box-shadow: 0px 0px 20px #000;
  display: none;
  float: left;
  font-size: 1.2em;
  left: 50%;
  padding: 20px;
  position: fixed;
  top: 50%;
  z-index: 9999;
}
</pre>

<p>Will become:</p>

<pre>
div.block{background:#fff;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;border:20px solid #ddd;-webkit-box-shadow: 0px 0px 20px #000;-moz-box-shadow: 0px 0px 20px #000;box-shadow: 0px 0px 20px #000;display:none;float:left;font-size:1.2em;left:50%;padding:20px;position:fixed;top:50%;z-index:9999;}
</pre>

<p>What about HTML?</p>

<p>You can also remove spaces, new lines or tabs in HTML as well. The only difference with JavaScript and CSS is HTML can be optimize by remove unnecessary tags. You don't need to put tags like <q>em</q> into an <q>h3</q> tag if you want this <q>h3</q> to become italic. Use CSS!</p>

<pre>
&lt;h3&gt;&lt;em&gt;Header 3&lt;/em&gt;&lt;/h3&gt;
</pre>

<p>Will become:</p>

<pre>
&lt;h3&gt;Header 3&lt;/h3&gt;
</pre>

<h4>Replace images with CSS</h4>

<p>CSS can help to improve your loading time by replacing images. Webfonts, border radius, shadows, transition, transform and gradient are few examples where CSS replace images.</p>

<p>Custom Webfonts can be great if you have a lot of images that contains stylish text. Webfonts are pretty small to load and minimal impact on your page load versus the images you will need to include in your page.</p>

<ul>
 <li><a href="http://www.google.com/webfonts" class="nw" rel="nofollow" title="WebFont">http://www.google.com/webfonts</a></li>
</ul>

<p>Border radius, shadows, transition, transform and gradient will maximize your loading time and also, because everything is in CSS, it is very easy to use and dynamically adapt to practically any HTML tags.</p>

<ul>
 <li><a href="http://www.colorzilla.com/gradient-editor" class="nw" rel="nofollow" title="colorzilla gradient">http://www.colorzilla.com/gradient-editor/</a></li>
 <li><a href="http://www.css3generator.com/" class="nw" rel="nofollow" title="css3generator">http://css3generator.com/</a></li>
</ul>

<p>One other tool you can use is the Data URI. The data URI scheme is a URI scheme (Uniform Resource Identifier scheme) that provides a way to include data in-line in web pages as if they were external resources. Basically, they are generated images from text. The disadvantage of data URI are not yet supported across all major browsers.</p>

<p>For example:</p>

<pre>
.smile {
   background:url(
    data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAATUlEQVQYlZ3QQQoAIAhE0X/BTtntvEDLaSOlpJuCIYKHpvB5BqCQ0SKteVLhi4ybAh8EpDtgh9bngYAkB8rV8x8tTRzfxUBvy35F1R43zcB6rPlo4VYAAAAASUVORK5CYII=
   ) no-repeat;
}
</pre>

<p>This represent a smiley face!</p>

<div class="smile"></div>

<p>My favorite tool so far is: <a href="http://www.patternify.com" title="patternify" rel="nofollow" class="nw">http://www.patternify.com/</a></p>

<h4>Optimize Images AKA CSS Sprites</h4>

<p>I created an article about <a href="http://www.bookofzeus.com/articles/how-to-use-css-sprites/" title="css sprites">css sprites</a></p>

<h4>Load your JavaScript and CSS using external sites</h4>

<p>By using external JavaScript or CSS files, you improve your loading time since these files are cached by the browser. These files reduces the number of HTTP requests that are needed since they will be loaded from another websites (like Google for example). Because other websites use the same file, it will be already cached by the browser and therefore will load instantly on your site. In addition,  you don't have to maintain or update these files when a new version is launched.</p>
<p>
	<a href="https://developers.google.com/speed/libraries/devguide" class="nw" rel="nofollow" title="google dev guide">https://developers.google.com/speed/libraries/devguide</a>
</p>
<p>For example, loading the jQuery file:</p>

<p>
	<a href="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js" class="nw" rel="nofollow" title="jquery lib">http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js</a>
</p>

<h4>Use Ajax Requests</h4>

<p>If you need to update a label or display tiny amount of information on your page, don't refresh the entire web page. For example, you have a form that allow the user to enter his zip code to get the weather information. Then he press the submit button to get the weather for is region. Then, the request is sent to the server and retrieve the information and display the information. With Ajax, you will only send what you request and get the answers you need without loading the entire page. In this case, you will get back few bytes of data to display.</p>

<h4>Optimization with Apache mod_expires</h4>

<p>When the user will come to your site for the first time, he will execute many HTTP requests to get the contents. Now, if the user refresh the page or go to another page, you can force him to look at the browser cache first to make sure he is not requesting again the same file from your server. This applies to any components in your page like JavaScript, CSS, images etc...</p>

<p>There's two (2) aspects you need to take in consideration when you set an expiration to any components.</p>

<ul>
 <li>Static: This will probably never expire. Because they are static and rarely changes, you can always rely on the cache. For example, image of the logo of the company.</li>
 <li>Dynamic: As of the dynamic component, you will have to setup a reasonable expiration depending on how often the content changes. For example, an HTML page (can be updated daily) VS a CSS file (can be updated monthly).</li>
</ul>

<p>Here's an example on Expires headers in your .htaccess:</p>

<pre>
  ExpiresActive On
  ExpiresDefault "access plus 5 days"

  ExpiresByType text/html "access plus 2 days"

  ExpiresByType text/css "access plus 1 month"
</pre>

<h4>Compress output data</h4>

<p>Compressing content works the same way as compression files (zip or tar.gz). If you want to send to your friend few Megs of data, you compress it and your friends uncompress it and then reads the content. This works the same way for web pages.</p>

<h5>mod_deflate</h5>

<p>Make sure the header contains:</p>

<pre>
Accept-encoding: gzip, deflate
</pre>

<p>To enable output compression using <q>deflate</q> in Apache is very simple, simply add the <q>AddOutputFilterByType</q> command to your .htaccess or Apache configuration file:</p>

<pre>
# compress text, html, JavaScript, css, xml:
AddOutputFilterByType DEFLATE text/html
AddOutputFilterByType DEFLATE text/xml
AddOutputFilterByType DEFLATE text/css
AddOutputFilterByType DEFLATE application/JavaScript
AddOutputFilterByType DEFLATE application/x-javascript
</pre>

<p class="note">mod_deflate might not be installed by default</p>

<h5>mod_gzip</h5>

<p>Make sure the header contains:</p>

<pre>
Accept-encoding: gzip, deflate
</pre>

<p>To enable output compression using <q>gzip</q> in Apache is very simple, simply add the <q>mod_gzip</q> commands to your .htaccess or Apache configuration file:</p>

<pre>
&lt;IfModule mod_gzip.c&gt;
  mod_gzip_on Yes
  mod_gzip_dechunk Yes
  mod_gzip_item_include file \.(html?|txt|css|js)$
  mod_gzip_item_include handler ^cgi-script$ mod_gzip_item_include mime ^text/.*
  mod_gzip_item_include mime ^application/x-javascript.*
  mod_gzip_item_exclude mime ^image/.*
  mod_gzip_item_exclude rspheader ^Content-Encoding:.*gzip.*
&lt;/IfModule&gt;
</pre>

<p class="note">mod_gzip might not be installed by default</p>

